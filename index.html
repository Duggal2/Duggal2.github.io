<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>Регистрация</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <form action="">
        <h1 title="Форма регистрации на сайте">Регистрация</h1>
        <div class="group">
            <label for="">Имя пользователя:</label>
            <input type="name" id="name">
        </div>
        <div class="group">
            <label for="">Пароль:</label>
            <input type="password_1" id="password">
        </div>
        <div class="group">
            <label for="">Пароль еще раз:</label>
            <input type="password_1" id="passwordRepeat">
        </div>
        <div class="group">
            <input type="button" value="Регистрация" onclick="regist()">
        </div>
    </form>
    <h1 id='active_name'></h1>
    <p id="error"></p>
    <center><input type="button" onclick="rem()"></center>
</body>
<script>
    function regist() {
        let name = document
            .getElementById('name')
            .value;
        let password = document
            .getElementById('password')
            .value;
        if (localStorage.getItem(name) == null) {
            let new_user = {
                user_name: name,
                user_password: password
            }
            localStorage.setItem(new_user.user_name, JSON.stringify(new_user));
            localStorage.setItem("active_user", new_user.user_name)
            document
                .getElementById('active_name')
                .textContent = localStorage['active_user']
            console.info("Новый пользователь добавлен")
        } else {
            console.info("Такой пользователь уже есть")
        }
    }

    function rem() {
        localStorage.removeItem('active_user')
        document
            .getElementById("active_name")
            .textContent = ' '
    }
</script>

</html>